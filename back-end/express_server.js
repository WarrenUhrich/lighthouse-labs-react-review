////////////////////////////////////////////////////////////////
// Dependencies
////////////////////////////////////////////////////////////////

const morgan = require('morgan');
const express = require('express');
const cors = require('cors');

////////////////////////////////////////////////////////////////
// Set-Up
////////////////////////////////////////////////////////////////

const PORT = 8080;
const app = express();

////////////////////////////////////////////////////////////////
// Middleware
////////////////////////////////////////////////////////////////

app.use(morgan('dev'));
app.use(express.json());
app.use(cors());

////////////////////////////////////////////////////////////////
// Database
////////////////////////////////////////////////////////////////

const todos = require('./db/todos');

////////////////////////////////////////////////////////////////
// Listener
////////////////////////////////////////////////////////////////

app.listen(PORT, () => console.log(
    'To-Dos Express server is now listening on port:', PORT
));

////////////////////////////////////////////////////////////////
// Routes
////////////////////////////////////////////////////////////////

const todosRouter = require('./routes/todos');
app.use('/api/todos', todosRouter);
