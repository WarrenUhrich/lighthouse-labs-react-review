const express = require('express');
const morgan = require('morgan'); // outputs request data / status

//////////////////////////////////////////////////////////////////
// Configuration / Set-Up
//////////////////////////////////////////////////////////////////

const app = express();
const PORT = 7777;

//////////////////////////////////////////////////////////////////
// Middleware
//////////////////////////////////////////////////////////////////

app.use(express.urlencoded({extended: true})); // for form submission
app.use(morgan('dev'));

//////////////////////////////////////////////////////////////////
// Listener
//////////////////////////////////////////////////////////////////

app.listen(PORT, () => {
    console.log('Express app is listening on port:', PORT);
});

//////////////////////////////////////////////////////////////////
// Routes
//////////////////////////////////////////////////////////////////

const toDoRouter = require('./routes/to-do-router');
app.use('/to-dos', toDoRouter);
