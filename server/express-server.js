////////////////////////////////////////////////////////////////////
// Dependencies
////////////////////////////////////////////////////////////////////

const morgan = require('morgan');
const cors = require('cors');
const express = require('express');

////////////////////////////////////////////////////////////////////
// Initialization
////////////////////////////////////////////////////////////////////

const app = express();
const PORT = 8080;

////////////////////////////////////////////////////////////////////
// Middleware
////////////////////////////////////////////////////////////////////

app.use(cors());
app.use(morgan('dev'));
// app.use(express.urlencoded({extended: true}));
app.use(express.json());

////////////////////////////////////////////////////////////////////
// Listener
////////////////////////////////////////////////////////////////////

app.listen(PORT, () => console.log(
    'Express server is now listening on port:', PORT
));

////////////////////////////////////////////////////////////////////
// Routes
////////////////////////////////////////////////////////////////////

const tasksRouter = require('./routes/tasks-router');
app.use('/api/tasks', tasksRouter);
